<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Platform Directory + Ecosystem Map (Dark Mode + Sorting)</title>
<style>
  /* Reset */
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f6f4f0;
    color: #333;
    padding: 40px 20px;
    transition: background-color 0.4s ease, color 0.4s ease;
  }
  h1 {
    text-align: center;
    font-size: 2.5rem;
    margin-bottom: 30px;
    color: #4a4a4a;
  }
  /* Dark mode styles */
  body.dark {
    background: #1e1e28;
    color: #ddd;
  }
  body.dark h1 {
    color: #c9b8ff;
  }

  /* Card Container */
  .card {
    background: #ffffff;
    border-radius: 20px;
    box-shadow: 10px 10px 30px #e0dedc,
                -10px -10px 30px #ffffff;
    padding: 20px;
    max-width: 1200px;
    margin: auto;
    transition: background-color 0.4s ease, box-shadow 0.4s ease;
  }
  body.dark .card {
    background: #2c2c3e;
    box-shadow: 6px 6px 16px #161622,
                -6px -6px 16px #3c3c56;
  }

  /* Filters */
  .filters {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }
  select {
    padding: 10px 16px;
    border-radius: 12px;
    border: none;
    background: #f2eaf7;
    box-shadow: inset 4px 4px 8px #d3c7da,
                inset -4px -4px 8px #ffffff;
    font-size: 1rem;
    color: #4a4a4a;
    cursor: pointer;
    transition: background-color 0.4s ease, color 0.4s ease, box-shadow 0.4s ease;
  }
  body.dark select {
    background: #3a3a56;
    color: #c9b8ff;
    box-shadow: inset 3px 3px 6px #2b2b42,
                inset -3px -3px 6px #454567;
  }

  /* Table */
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    background: #fdfcfa;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 8px 8px 20px #e0dedc,
                -8px -8px 20px #ffffff;
    transition: background-color 0.4s ease, box-shadow 0.4s ease;
  }
  body.dark table {
    background: #2c2c3e;
    box-shadow: 6px 6px 16px #161622,
                -6px -6px 16px #3c3c56;
  }
  th, td {
    padding: 16px 20px;
    text-align: left;
    user-select: none;
  }
  th {
    background: #f2eaf7;
    color: #5c4d71;
    font-size: 1rem;
    border-bottom: 2px solid #e6dff0;
    cursor: pointer;
    position: relative;
    transition: background-color 0.4s ease, color 0.4s ease;
  }
  body.dark th {
    background: #3a3a56;
    color: #c9b8ff;
    border-bottom: 2px solid #565677;
  }
  th:hover {
    background: #d9cfff;
  }
  body.dark th:hover {
    background: #594eae;
  }
  td {
    background: #ffffff;
    border-bottom: 1px solid #f0f0f0;
    color: #4a4a4a;
    transition: background-color 0.4s ease, color 0.4s ease;
  }
  body.dark td {
    background: #3c3c56;
    border-bottom: 1px solid #4b4b6b;
    color: #ddd;
  }
  tr:hover td {
    background: #fef6ff;
  }
  body.dark tr:hover td {
    background: #514f70;
  }
  a {
    color: #815ac0;
    text-decoration: none;
    font-weight: 500;
    transition: color 0.4s ease;
  }
  a:hover {
    text-decoration: underline;
  }
  body.dark a {
    color: #b9a8ff;
  }

  /* Sort arrow */
  th.sort-asc::after,
  th.sort-desc::after {
    content: '';
    position: absolute;
    right: 12px;
    top: 50%;
    border: 6px solid transparent;
    transform: translateY(-50%);
  }
  th.sort-asc::after {
    border-bottom-color: #815ac0;
  }
  th.sort-desc::after {
    border-top-color: #815ac0;
  }

  /* Responsive Table */
  @media (max-width: 768px) {
    table, thead, tbody, th, td, tr {
      display: block;
    }
    th {
      display: none;
    }
    td {
      padding: 12px;
      border: none;
      position: relative;
      background: #fff;
      border-bottom: 1px solid #eee;
    }
    body.dark td {
      background: #3c3c56;
      border-bottom: 1px solid #4b4b6b;
    }
    td::before {
      content: attr(data-label);
      font-weight: bold;
      display: block;
      margin-bottom: 6px;
      color: #888;
    }
    body.dark td::before {
      color: #b0a6d9;
    }
  }

  /* Ecosystem Map Container */
  .ecosystem-container {
    max-width: 1200px;
    margin: 50px auto 0 auto;
    padding: 20px;
    background: #fff;
    border-radius: 20px;
    box-shadow: 10px 10px 30px #e0dedc,
                -10px -10px 30px #ffffff;
    transition: background-color 0.4s ease, box-shadow 0.4s ease;
  }
  body.dark .ecosystem-container {
    background: #2c2c3e;
    box-shadow: 6px 6px 16px #161622,
                -6px -6px 16px #3c3c56;
  }
  .ecosystem-title {
    text-align: center;
    font-size: 2rem;
    margin-bottom: 30px;
    color: #5c4d71;
    transition: color 0.4s ease;
  }
  body.dark .ecosystem-title {
    color: #b9a8ff;
  }
  .ecosystem-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
    gap: 25px;
  }
  .ecosystem-card {
    background: #f2eaf7;
    border-radius: 18px;
    box-shadow: inset 6px 6px 12px #d3c7da,
                inset -6px -6px 12px #ffffff;
    padding: 25px 20px;
    text-align: center;
    color: #4a4a4a;
    transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.4s ease, color 0.4s ease;
    cursor: default;
  }
  body.dark .ecosystem-card {
    background: #3a3a56;
    box-shadow: inset 3px 3px 6px #2b2b42,
                inset -3px -3px 6px #454567;
    color: #ccc;
  }
  .ecosystem-card:hover {
    transform: translateY(-5px);
    box-shadow: 8px 8px 20px #e0dedc,
                -8px -8px 20px #ffffff;
  }
  body.dark .ecosystem-card:hover {
    box-shadow: 8px 8px 20px #5a59a1,
                -8px -8px 20px #8f8de0;
  }
  .ecosystem-card h3 {
    margin-bottom: 10px;
    font-size: 1.3rem;
    color: #815ac0;
  }
  body.dark .ecosystem-card h3 {
    color: #b9a8ff;
  }
  .ecosystem-card p {
    font-size: 1rem;
    line-height: 1.3;
  }

  /* Dark mode toggle button */
  #darkModeToggle {
    position: fixed;
    top: 15px;
    right: 15px;
    background: #815ac0;
    color: white;
    border: none;
    border-radius: 20px;
    padding: 10px 18px;
    cursor: pointer;
    font-weight: 600;
    box-shadow: 4px 4px 12px #6b46b8;
    transition: background-color 0.3s ease;
    z-index: 9999;
  }
  #darkModeToggle:hover {
    background: #9b79e0;
  }

</style>
</head>
<body>

<button id="darkModeToggle" aria-label="Toggle Dark Mode">üåô Dark Mode</button>

<!-- Ecosystem Map moved UP -->
<div class="ecosystem-container" aria-label="Ecosystem Map">
  <h2 class="ecosystem-title">üåê Full Ecosystem Map</h2>
  <div class="ecosystem-grid" id="ecosystemGrid">
    <!-- Ecosystem cards generated by JS -->
  </div>
</div>

<h1>üå∏ Platform Directory & Ecosystem Map</h1>

<div class="card">
  <div class="filters">
    <select id="categoryFilter" aria-label="Filter by Category">
      <option value="all">All Categories</option>
    </select>
    <select id="regionFilter" aria-label="Filter by Region">
      <option value="all">All Regions</option>
    </select>
    <select id="pricingFilter" aria-label="Filter by Pricing">
      <option value="all">All Pricing</option>
      <option value="free">Free</option>
      <option value="paid">Paid</option>
      <option value="freemium">Freemium</option>
    </select>
  </div>

  <table id="platformTable" aria-label="Platform Directory Table">
    <thead>
      <tr>
        <th data-key="name">Name</th>
        <th data-key="category">Category</th>
        <th data-key="region">Region</th>
        <th data-key="dr">DR</th>
        <th data-key="traffic(approx)">Traffic(approx)</th>
        <th data-key="pricing">Pricing</th>
        <th data-key="url">URL</th>
      </tr>
    </thead>
    <tbody>
      <!-- Rows generated by JS -->
    </tbody>
  </table>
</div>

<div class="ecosystem-container" aria-label="Ecosystem Map">
  <h2 class="ecosystem-title">üåê Full Ecosystem Map</h2>
  <div class="ecosystem-grid" id="ecosystemGrid">
    <!-- Ecosystem cards generated by JS -->
  </div>
</div>

<script>
  const platforms = [
    {"name":"Product Hunt","category":"Platforms","region":"Global","dr":85,"traffic":2500000,"pricing":"freemium","url":"https://www.producthunt.com"},
    {"name":"Indie Hackers","category":"Communities","region":"Global","dr":70,"traffic":600000,"pricing":"free","url":"https://www.indiehackers.com"},
    {"name":"GitHub","category":"Tooling & Credits","region":"Global","dr":90,"traffic":9000000,"pricing":"freemium","url":"https://github.com"},
    {"name":"AngelList","category":"Funding & Grants","region":"Global","dr":80,"traffic":1500000,"pricing":"free","url":"https://angel.co"},
    {"name":"Dev.to","category":"Communities","region":"Global","dr":75,"traffic":1200000,"pricing":"free","url":"https://dev.to"},
    {"name":"Seedrs","category":"Funding & Grants","region":"Europe","dr":65,"traffic":300000,"pricing":"paid","url":"https://www.seedrs.com"},
    {"name":"Hacker News","category":"Platforms","region":"Global","dr":88,"traffic":2800000,"pricing":"free","url":"https://news.ycombinator.com"},
    {"name":"F6S","category":"Hackathons","region":"Global","dr":50,"traffic":450000,"pricing":"free","url":"https://www.f6s.com"},
    {"name":"LinkedIn","category":"Jobs/Collabs","region":"Global","dr":95,"traffic":7000000,"pricing":"freemium","url":"https://www.linkedin.com"},
    {"name":"Medium","category":"Content/Press","region":"Global","dr":85,"traffic":4000000,"pricing":"freemium","url":"https://medium.com"},
    {"name":"Coursera","category":"Learning/Templates","region":"Global","dr":80,"traffic":3500000,"pricing":"paid","url":"https://www.coursera.org"}
  ];

  const ecosystemMap = {
    "Hackathons": "build/test",
    "Platforms": "launch/distribute",
    "Funding & Grants": "sustain",
    "Communities": "feedback/support",
    "Tooling & Credits": "infra",
    "Showcase & Awards": "credibility",
    "Jobs/Collabs": "cash + cofounders",
    "Content/Press": "amplify",
    "Learning/Templates": "speed up"
  };

  // Elements
  const tableBody = document.querySelector('#platformTable tbody');
  const categoryFilter = document.getElementById('categoryFilter');
  const regionFilter = document.getElementById('regionFilter');
  const pricingFilter = document.getElementById('pricingFilter');
  const ecosystemGrid = document.getElementById('ecosystemGrid');
  const darkModeToggle = document.getElementById('darkModeToggle');
  const table = document.getElementById('platformTable');
  const headers = table.querySelectorAll('th');

  // Populate filters with unique categories and regions from data
  function populateFilters() {
    const categories = new Set(platforms.map(p => p.category));
    const regions = new Set(platforms.map(p => p.region));

    categories.forEach(cat => {
      const option = document.createElement('option');
      option.value = cat;
      option.textContent = cat;
      categoryFilter.appendChild(option);
    });

    regions.forEach(reg => {
      const option = document.createElement('option');
      option.value = reg;
      option.textContent = reg;
      regionFilter.appendChild(option);
    });
  }

  // Render Table Rows based on filters and sorting
  let currentSort = { key: null, asc: true };

  function renderTable() {
    let filtered = platforms.filter(p => {
      return (categoryFilter.value === 'all' || p.category === categoryFilter.value) &&
             (regionFilter.value === 'all' || p.region === regionFilter.value) &&
             (pricingFilter.value === 'all' || p.pricing === pricingFilter.value);
    });

    if (currentSort.key) {
      filtered.sort((a,b) => {
        let valA = a[currentSort.key];
        let valB = b[currentSort.key];
        if(typeof valA === 'string') valA = valA.toLowerCase();
        if(typeof valB === 'string') valB = valB.toLowerCase();

        if (valA < valB) return currentSort.asc ? -1 : 1;
        if (valA > valB) return currentSort.asc ? 1 : -1;
        return 0;
      });
    }

    tableBody.innerHTML = '';

    filtered.forEach(p => {
      const tr = document.createElement('tr');

      tr.innerHTML = `
        <td data-label="Name"><a href="${p.url}" target="_blank" rel="noopener">${p.name}</a></td>
        <td data-label="Category">${p.category}</td>
        <td data-label="Region">${p.region}</td>
        <td data-label="DR">${p.dr}</td>
        <td data-label="Traffic">${p.traffic.toLocaleString()}</td>
        <td data-label="Pricing">${p.pricing.charAt(0).toUpperCase() + p.pricing.slice(1)}</td>
        <td data-label="URL"><a href="${p.url}" target="_blank" rel="noopener">${p.url.replace(/^https?:\/\//,'')}</a></td>
      `;

      tableBody.appendChild(tr);
    });
  }

  // Ecosystem Map render
  function renderEcosystem() {
    ecosystemGrid.innerHTML = '';
    for (const [category, purpose] of Object.entries(ecosystemMap)) {
      const card = document.createElement('div');
      card.className = 'ecosystem-card';
      card.innerHTML = `<h3>${category}</h3><p>${purpose}</p>`;
      ecosystemGrid.appendChild(card);
    }
  }

  // Sorting handler
  headers.forEach(th => {
    th.addEventListener('click', () => {
      const key = th.dataset.key;
      if (!key) return;

      if (currentSort.key === key) {
        currentSort.asc = !currentSort.asc;
      } else {
        currentSort.key = key;
        currentSort.asc = true;
      }

      headers.forEach(h => h.classList.remove('sort-asc','sort-desc'));
      th.classList.add(currentSort.asc ? 'sort-asc' : 'sort-desc');

      renderTable();
    });
  });

  // Filters change events
  [categoryFilter, regionFilter, pricingFilter].forEach(sel => {
        sel.addEventListener('change', () => {
      renderTable();
    });
  });

  // Dark mode toggle
  darkModeToggle.addEventListener('click', () => {
    document.body.classList.toggle('dark');
    if(document.body.classList.contains('dark')) {
      darkModeToggle.textContent = '‚òÄÔ∏è Light Mode';
    } else {
      darkModeToggle.textContent = 'üåô Dark Mode';
    }
  });

  // Initial setup
  populateFilters();
  renderTable();
  renderEcosystem();

</script>

</body>
</html>

